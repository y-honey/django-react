import { FormattedMessage } from 'react-intl';

import { RoutesConfig } from '../../../app/config/routes';
import { ButtonVariant } from '../../../shared/components/forms/button';
import { useGenerateLocalePath } from '../../../shared/hooks/localePaths';
import { {{ pascalCase name }} } from '../../../shared/services/api/{{ camelCase name }}/types';
import { AddNewLink, Container, Header, List } from './{{ camelCase name }}List.styles';
import { {{ pascalCase name }}ListItem } from './{{ camelCase name }}ListItem';

export const {{ pascalCase name }}List = () => {
  const generateLocalePath = useGenerateLocalePath();
  const data: {{ pascalCase name }}[] = [];
  const isLoading = false;

  const renderList = () => {
    if (!data) return null;
    return (
      <List>
        {data.map((item) => (
          <{{ pascalCase name }}ListItem item={item} key={item.id} />
        ))}
      </List>
    );
  };

  return (
    <Container>
      <Header>CRUD Example Items</Header>
      <AddNewLink to={generateLocalePath(RoutesConfig.{{ camelCase name }}.add)} variant={ButtonVariant.PRIMARY}>
        <FormattedMessage id="{{ pascalCase name }}List / Add new" defaultMessage="Add new item" />
      </AddNewLink>

      {isLoading ? (
        <span>
          <FormattedMessage defaultMessage="Loading ..." id="Loading message" />
        </span>
      ) : (
        renderList()
      )}
    </Container>
  );
};
