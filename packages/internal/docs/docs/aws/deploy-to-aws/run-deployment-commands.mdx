---
description: Steps required to deploy SaaS Boilerplate on AWS
---
import ProjectName from '../../shared/components/ProjectName.component';

# Step 5: Run deployment commands


## Switch context to proper environment stage

Run the following command that will switch context to specific environment stage.

```shell
make set-env ENV_STAGE=qa
```



## Deploy environment infrastructure

### Bootstrap CDK

<ProjectName/> uses AWS CDK to define infrastructure as a code. Before you deploy anything to AWS you need to
run an initialization command.

```shell
make bootstrap-infra
```

If you're deploying a second environment stage to the
same AWS account as the previous one you will receive an information that bootstrap has already been run.


### Deploy infrastructure

Deploy an actual infrastructure of your app by running following command:

```shell
make deploy-env-infra
```

This command will run CDK deployment of all environment specific infrastructure components like: database, CI/CD.


## Deploy application's code

This step is optional because it usually should be run through CI/CD pipeline. We didn't want to limit you so we also
prepared a way to deploy the app fully from your local machine. There are two steps â€“ building artifacts and deploying
them to specific AWS services.

You can build & deploy all services (Webapp, Backend, Workers etc) at once or just a single service.
If you want all services run commands below in project's main directory,
while for single service you need to go to that specific service directory.

### Build artifacts

Run following command to build artifacts out of code on your local machine:

```sh
make build
```

### Deploy artifacts to the newly created env

Run following command to deploy artifacts, built in previous command, to AWS:

```sh
make deploy-env-app
```

## Open the app

If you followed the guide and everything went right, your app should be deployed and each service should be available
under domains configured in your `.env.qa` file.
